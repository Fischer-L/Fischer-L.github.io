<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>

<body>
<div>version : 23</div>
<div id="old_assign_to_simple_obj"></div>
<div id="es6_assign_to_simple_obj"></div>
<div id="old_assign_to_complex_obj"></div>
<div id="es6_assign_to_complex_obj"></div>
<div id="old_assign_to_complexArray"></div>
<div id="es6_assign_to_complexArray"></div>

<script>

var 
simpleObj = {
	data : {
			id : "0123456789",
			user : { name : "User" }
	}
},

complexObj = {
	id : 123456789,
	user : {
		name : "User",	
		age : 20,
		addr : {
			zip : 100,
			street : "street",
			country : "country"
		},
		portfolio : {
			stock : {
				APPL : {	
					number : 100.9,
					price : 100
				},
				GOOG : {
					number : 100.9547,
					price : 100.123456
				}
			},
			bond : {
				APPL : {	
					number : 100,
					price : 100
				},
				GOOG : {
					number : 100,
					price : 100
				}
			}
		}
	}
},

complexArray = [
	0,
	[ 1.0, 1.1 ],
	[ 1.0, [ 2.0, 2.1 ] ],
	[ 1.0, [ 2.0, [ 3.0, 3.1 ] ] ]
],

evaluate = function (func) {
	
	var i, e, s;

	s = (new Date()).getTime();
	
	for (i = 0; i < 500000; ++i) {
		func();
	}

	e = (new Date()).getTime();
	
	return e - s;
},

calAVG = function (id, msArr) {
	
	var sum = 0;
	
	for (i = msArr.length - 1; i >= 0; --i) sum += msArr[i];
	
	document.getElementById(id).innerHTML = "Avg " + id + " ms = " + (sum / msArr.length);
},

old_assign_to_simple_obj = function () {

	var id = simpleObj.data.id,
		name = simpleObj.data.user.name;
        
},

es6_assign_to_simple_obj = function () {
	var { data : { id, user : { name } } } = simpleObj;
},

old_assign_to_complex_obj = function () {
	var
	id = complexObj.id,
	name = complexObj.user.name,
	street = complexObj.user.addr.street,
	APPL = complexObj.user.portfolio.stock.APPL,
	number = complexObj.user.portfolio.bond.GOOG.number;
},

es6_assign_to_complex_obj = function () {
	
	var { id,
	
	      user : {
	          name,
	          
	          addr : {
	          	street
	          },
	          
	          portfolio : {
	      	      stock : {
	      	      	    APPL
	      	      },
	      	      bond : {
	      	  	    GOOG : {
	      	  	        number
	      	  	    }
	      	      }
	          }
	      }
	      
	   } = complexObj;
},

old_assign_to_complexArray = function () {
	var
	a0 = complexArray[0],
	a10 = complexArray[1][0],
	a10_2 = complexArray[2][0],
	a20 = complexArray[2][1][0],
	a10_3 = complexArray[3][0],
	a20_3 = complexArray[3][1][0],
	a30 = complexArray[3][1][1][0],
	a31 = complexArray[3][1][1][1];
},

es6_assign_to_complexArray = function () {
	var [
	    	a0,
	    	
	    	[ a10 ],
	    	
	    	[ a10_2, [ a20 ] ],
	    	
	    	[ a10_3, [ a20_3, [ a30, a31 ] ] ]
	    	
	    ] = complexArray;
};

var i, olds2simpleObj = [], es6s2simpleObj = [], olds2complexObj = [], es6s2complexObj = [], olds2complexArray = [], es6s2complexArray = [];

for (i = 0; i < 30; ++i) {
	olds2simpleObj.push(evaluate(old_assign_to_simple_obj));
	es6s2simpleObj.push(evaluate(es6_assign_to_simple_obj));
	olds2complexObj.push(evaluate(old_assign_to_complex_obj));
	es6s2complexObj.push(evaluate(es6_assign_to_complex_obj));
}

for (i = 0; i < 3; ++i) {
	olds2complexArray.push(evaluate(old_assign_to_complexArray));
	es6s2complexArray.push(evaluate(es6_assign_to_complexArray));
}

calAVG("old_assign_to_simple_obj", olds2simpleObj);
calAVG("es6_assign_to_simple_obj", es6s2simpleObj);
calAVG("old_assign_to_complex_obj", olds2complexObj);
calAVG("es6_assign_to_complex_obj", es6s2complexObj);
calAVG("old_assign_to_complexArray", olds2complexArray);
calAVG("es6_assign_to_complexArray", es6s2complexArray);

</script>

</body>
</html>
