<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>

<body>
<div>version : 17</div>
<div id="old2user"></div>
<div id="es62user"></div>
<div id="old2account"></div>
<div id="es62account"></div>
<div id="old2array"></div>
<div id="es62array"></div>

<script>

var 
user = {
	data : [
			"0123456789",
			{ name : "User" }
	]
},

account = {
	id : 123456789,
	user : {
		name : "User",	
		age : 20,
		addr : {
			zip : 100,
			street : "street",
			country : "country"
		},
		portfolio : {
			stock : {
				APPL : {	
					number : 100.9,
					price : 100
				},
				GOOG : {
					number : 100.9547,
					price : 100.123456
				}
			},
			bond : {
				APPL : {	
					number : 100,
					price : 100
				},
				GOOG : {
					number : 100,
					price : 100
				}
			}
		}
	}
},

array = [
	0,
	[ 1.0, 1.1 ],
	[ 1.0, [ 2.0, 2.1 ] ],
	[ 1.0, [ 2.0, [ 3.0, 3.1 ] ] ]
],

evaluate = function (func) {
	
	var i, e, s;

	s = (new Date()).getTime();
	
	for (i = 0; i < 500000; ++i) {
		func();
	}

	e = (new Date()).getTime();
	
	return e - s;
},

calAVG = function (id, msArr) {
	
	var sum = 0;
	
	for (i = msArr.length - 1; i >= 0; --i) sum += msArr[i];
	
	document.getElementById(id).innerHTML = "Avg " + id + " ms = " + (sum / msArr.length);
},

old2user = function () {

	var id = user.data[0],
		name = user.data[1].name;
        
},

es62user = function () {
	var { data : { 0: id, 1: { name } } } = user;
},

old2account = function () {
	var
	id = account.id,
	name = account.user.name,
	street = account.user.addr.street,
	APPL = account.user.portfolio.stock.APPL,
	number = account.user.portfolio.bond.GOOG.number;
},

es62account = function () {
	
	var { id,
	
	      user : {
	          name,
	          
	          addr : {
	          	street
	          },
	          
	          portfolio : {
	      	      stock : {
	      	      	    APPL
	      	      },
	      	      bond : {
	      	  	    GOOG : {
	      	  	        number
	      	  	    }
	      	      }
	          }
	      }
	      
	   } = account;
},

old2array = function () {
	var
	a0 = array[0],
	a10 = array[1][0],
	a10_1 = array[2][0],
	a20 = array[2][1][0],
	a20_2 = array[3][1][0],
	a30 = array[3][1][1][0],
	a31 = array[3][1][1][1];
},

es6array = function () {
	var [
	    	a0,
	    	
	    	[ a10 ],
	    	
	    	[ a10_2, [ a20 ] ],
	    	
	    	[      [ a20_2, [ a30, a31 ] ] ]
	    	
	    ] = array;
};

var i, olds2user = [], es6s2user = [], olds2account = [], es6s2account = [], olds2array = [], es6s2array = [];

for (i = 0; i < 30; ++i) {
	olds2user.push(evaluate(old2user));
	es6s2user.push(evaluate(es62user));
	olds2account.push(evaluate(old2account));
	es6s2account.push(evaluate(es62account));
	olds2array.push(evaluate(old2array));
	es6s2array.push(evaluate(es62array));
}

calAVG("old2user", olds2user);
calAVG("es62user", es6s2user);
calAVG("old2account", olds2account);
calAVG("es62account", es6s2account);
calAVG("old2array", olds2array);
calAVG("es62array", es6s2array);

</script>

</body>
</html>
